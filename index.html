<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nikon Z Framer</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/src/styles.css" />
</head>
<body>

  <h1>NIKON <span>Z</span> FRAMER</h1>

  <div class="control-group">
    
    <div>
      <label for="style-select">è¾¹æ¡†æ ·å¼ / Frame Style</label>
      <select id="style-select">
        <option value="BottomWhite">ç®€çº¦ç™½åº• (Bottom White)</option>
        <option value="GaussianBlur">é«˜æ–¯æ¨¡ç³Š (Gaussian Blur)</option>
      </select>
    </div>

    <div>
      <label for="font-select">å­—ä½“æ–‡ä»¶ / Font (reads form ./fonts)</label>
      <div class="font-row">
        <select id="font-select">
          </select>
        <button id="refresh-fonts-btn" class="icon-btn" title="åˆ·æ–°å­—ä½“åˆ—è¡¨">ğŸ”„</button>
      </div>
    </div>

    <div>
      <label for="font-weight-select">å­—ä½“ç²—ç»† / Font Weight</label>
      <select id="font-weight-select">
        <option value="Normal">æ­£å¸¸ (Normal)</option>
        <option value="Medium">ä¸­ç²— (Medium)</option>
        <option value="Bold">åŠ ç²— (Bold)</option>
        <option value="ExtraBold">ç‰¹ç²— (Extra Bold)</option>
      </select>
    </div>

    <div id="shadow-control-group" style="display: none;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
        <label for="shadow-intensity" style="margin:0;">é˜´å½±å¼ºåº¦ / Shadow Intensity</label>
        <span id="shadow-val" style="font-size: 0.9em; color: #ffe100;">1.0</span>
      </div>
      <input type="range" id="shadow-intensity" min="0" max="2" step="0.1" value="1.0" style="width: 100%; cursor: pointer;">
    </div>

    <div class="batch-controls">
      <label>å¤„ç†åˆ—è¡¨ / Processing Queue</label>
      
      <div class="batch-btn-group">
        <button id="add-files-btn" class="secondary-btn">+ æ·»åŠ æ–‡ä»¶ (Files)</button>
        <button id="add-folder-btn" class="secondary-btn">+ æ·»åŠ æ–‡ä»¶å¤¹ (Folder)</button>
      </div>

      <div id="drop-zone" class="drop-zone">
        <div id="empty-tip">
          <p>æ‹–æ‹½ç…§ç‰‡åˆ°æ­¤å¤„</p>
          <p style="font-size: 0.8em; opacity: 0.7;">(Drag & Drop photos here)</p>
        </div>
        <ul id="file-list" class="file-list"></ul>
      </div>

      <div class="queue-stats">
        <span id="queue-count">0 å¼ ç…§ç‰‡</span>
        <button id="clear-list-btn" style="background:none; border:none; color:#777; font-size:inherit;">æ¸…ç©ºåˆ—è¡¨ (Clear)</button>
      </div>
    </div>

    <button id="start-batch-btn">å¼€å§‹æ‰¹å¤„ç† (Start Batch)</button>
  </div>
  
  <div id="status-container">
    <div id="loading-spinner" class="spinner"></div>
    <div id="progress-container" style="display: none; width: 100%; margin-bottom: 8px;">
      <div style="background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
        <div id="progress-fill" style="background: #4caf50; height: 100%; width: 0%; transition: width 0.2s;"></div>
      </div>
      <div id="progress-text" style="text-align: right; font-size: 12px; color: #666; margin-top: 2px;">0%</div>
    </div>
    <p id="status">å‡†å¤‡å°±ç»ªï¼Œè¯·æ·»åŠ ç…§ç‰‡ã€‚</p>
  </div>

  <div id="preview-modal">
    <div class="preview-container">
      <img id="preview-img" src="" alt="Preview">
    </div>
    <button id="close-preview-btn">å…³é—­é¢„è§ˆ (Close)</button>
  </div>

  <div class="debug-tools">
      <label style="color: #666; font-size: 0.8em; margin-bottom: 8px; display:block;">å¼€å‘è€…å·¥å…· / Debug Tools</label>
      <div style="display: flex; gap: 10px;">
        <button id="debug-shadow-btn" class="secondary-btn" style="font-size: 0.8em; border-style: dashed;">
          ğŸ é˜´å½±æµ‹è¯•
        </button>
        <button id="debug-weight-btn" class="secondary-btn" style="font-size: 0.8em; border-style: dashed;">
          ğŸ ç²—ç»†æµ‹è¯•
        </button>
      </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>